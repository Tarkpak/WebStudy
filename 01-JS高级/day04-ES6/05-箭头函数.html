<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    
</body>
<script>
    // 箭头函数,是用来简化函数定义语法的
    const fn = () => {
        console.log("我是一个箭头函数");
    }
    fn();  // 我是一个箭头函数

    // 函数体中只有一句代码,而且代码的执行结果就是返回值,可以会直接省略大括号
    // 传统写法
    function sumNum(num1, num2) {
        return num1 + num2;
    }
    console.log(sumNum(1, 2));  // 3
    // 箭头函数写法
    // const fun = (num1, num2) => {return num1 + num2};
    // 进一步简化
    const fun = (num1, num2) => num1 + num2;
    console.log(fun(100, 2));  // 102

// ---------------------------------------------------------------------------
    // 在箭头函数中,如果只有一个形参,那么形参外侧的小括号也是可以省略的
    // 只有一个形参 a
    const fun1 = a => a + 10;
    console.log(fun1(10));  // 20

// ---------------箭头函数中的this---------------------------------------------
    // 箭头函数本身不绑定this.箭头函数被定义在什么地方,this就指向什么地方
    let obj = {
        name: "张三",
        age: 25,
    };
    function fn2() {
        // 通过call()函数把this的指向改变为obj,因此打印this,打印出的是obj对象
        console.log(this);  // {name: "张三", age: 25}
        return () => {
            console.log(this);
        }
    }

    // call执行了fn函数,同时也把fn函数中的this改变成了obj
    // fn函数执行的结果就是 箭头函数对象
    let resFn = fn2.call(obj);
    // 如果不是箭头函数的话,返回的函数对象中的this应该指向window
    // 执行箭头函数
    resFn();  // {name: "张三", age: 25}

// -----------------经典面试题-------------------------------
    var age1 = 100;
    var oobj = {
        age1: 20,
        say: () => {
            alert(this.age1);
        }
    }
    // 对象是不能产生作用域的,say()方法实际上是被定义在全局作用域window下
    oobj.say();  // 弹窗弹出 100
</script>
</html>